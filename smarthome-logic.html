<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Home Logic</title>
    <style>
        /* BRANDING */
        .logo-container { text-align: center; margin: -20px -20px 20px -20px; background: #ffffff; border-radius: 20px 20px 0 0; padding: 15px 0; border-bottom: 3px solid #006fba; }
        .logo-img { max-width: 85%; height: auto; display: block; margin: 0 auto; }
        
        /* LAYOUT */
        body { font-family: 'Segoe UI', sans-serif; background: #1a202c; margin: 0; padding: 10px; display: flex; justify-content: center; }
        .card { background: white; padding: 20px; border-radius: 20px; width: 100%; max-width: 450px; min-height: 600px; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.3); }
        h3 { color: #2d3748; border-bottom: 2px solid #edf2f7; padding-bottom: 10px; }
        
        /* MENU ITEMS */
        .menu-item { background: #f0fff4; border: 1px solid #38a169; color: #22543d; padding: 12px; margin-bottom: 8px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 13px; }
        .menu-item:hover { background: #c6f6d5; }
        
        /* BUTTONS */
        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        button { padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; flex-grow: 1; color: white; }
        .btn-yes { background: #48bb78; } .btn-no { background: #f56565; }
        
        .result { background: #fffaf0; border-left: 5px solid #38a169; padding: 15px; margin-top: 20px; display: none; }
        .nav-btn { width: 100%; background: #718096; margin-top: 10px; }
        .hidden { display: none; }
    </style>
</head>
<body>
<div class="card">
    <div class="logo-container"><img src="nt-logo.png" class="logo-img"></div>
    
    <div id="homeMenu">
        <h3>Smart Home & Low Voltage</h3>
        <p style="font-size:12px; color:gray;">Select the device issue:</p>
        
        <div class="menu-item" onclick="startFlow('wifi')">1. WiFi Dead Spots / Dropouts</div>
        <div class="menu-item" onclick="startFlow('camera')">2. Security Camera Offline</div>
        <div class="menu-item" onclick="startFlow('doorbell')">3. Video Doorbell Power Issue</div>
        <div class="menu-item" onclick="startFlow('lock')">4. Smart Lock Jammed</div>
        <div class="menu-item" onclick="startFlow('thermo')">5. Smart Thermostat No Power (C-Wire)</div>
        <div class="menu-item" onclick="startFlow('voice')">6. Voice Assistant Not Listening</div>
        <div class="menu-item" onclick="startFlow('bulb')">7. Smart Bulb Not Responding</div>
        <div class="menu-item" onclick="startFlow('sensor')">8. Alarm Sensor False Positive</div>
        <div class="menu-item" onclick="startFlow('hub')">9. Hub Offline (Zigbee/Z-Wave)</div>
        <div class="menu-item" onclick="startFlow('garage')">10. Smart Garage Door Error</div>
    </div>

    <div id="flow-wifi" class="hidden">
        <h3>WiFi Dropouts</h3>
        <p><strong>Step 1:</strong> Is the router placed inside a metal cabinet or behind a TV?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('INTERFERENCE: Metal blocks WiFi. Move router to open air, high up.')">YES</button>
            <button class="btn-no" onclick="showRes('MESH NEEDED: Signal is too weak. Install a Mesh WiFi point halfway to dead zone.')">NO</button>
        </div>
    </div>

    <div id="flow-camera" class="hidden">
        <h3>Camera Offline</h3>
        <p><strong>Step 1:</strong> Is the camera plugged into power (not battery)?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('REBOOT: Unplug for 30 seconds. Check WiFi signal strength at that location.')">YES</button>
            <button class="btn-no" onclick="showRes('CHARGE: Battery is likely dead. Cold weather drains batteries faster.')">NO</button>
        </div>
    </div>

    <div id="flow-doorbell" class="hidden">
        <h3>Doorbell Power</h3>
        <p><strong>Step 1:</strong> Is the doorbell chiming "phantom" rings or buzzing?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('TRANSFORMER: Voltage is too low (16V required). Replace transformer with 16V/30VA model.')">YES</button>
            <button class="btn-no" onclick="showRes('CHIME KIT: Install the power kit bypass on the chime box.')">NO</button>
        </div>
    </div>

    <div id="flow-lock" class="hidden">
        <h3>Smart Lock Jammed</h3>
        <p><strong>Step 1:</strong> Does the lock beep/grind when trying to lock?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('ALIGNMENT: The deadbolt is hitting the strike plate. Dremel/Deepen the strike hole.')">YES</button>
            <button class="btn-no" onclick="showRes('CALIBRATION: Run the "Door Handing" calibration in the app.')">NO</button>
        </div>
    </div>

    <div id="flow-thermo" class="hidden">
        <h3>Thermostat Power</h3>
        <p><strong>Step 1:</strong> Does the thermostat verify a "C-Wire" is connected?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('CHECK FURNACE: Check if C-Wire is connected to C-terminal at the furnace board.')">YES</button>
            <button class="btn-no" onclick="showRes('ADAPTER KIT: You need to install the C-Wire Power Adapter kit at the furnace.')">NO</button>
        </div>
    </div>

    <div id="flow-voice" class="hidden">
        <h3>Voice Assistant</h3>
        <p><strong>Step 1:</strong> Is the mute button (red ring/light) on?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('UNMUTE: The microphone switch is physically off. Turn it on.')">YES</button>
            <button class="btn-no" onclick="showRes('REBOOT: Unplug device. Check if internet is down.')">NO</button>
        </div>
    </div>

    <div id="flow-bulb" class="hidden">
        <h3>Smart Bulb</h3>
        <p><strong>Step 1:</strong> Did someone turn off the physical wall switch?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('POWER LOSS: Smart bulbs need the switch ON 24/7. Install a switch guard.')">YES</button>
            <button class="btn-no" onclick="showRes('RESET: Cycle the light on/off 5 times to enter pairing mode.')">NO</button>
        </div>
    </div>

    <div id="flow-sensor" class="hidden">
        <h3>Sensor False Alarm</h3>
        <p><strong>Step 1:</strong> Is the sensor (Motion) facing a window or HVAC vent?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('HEAT TRIGGER: Sunlight or heat blasts trigger motion. Relocate sensor.')">YES</button>
            <button class="btn-no" onclick="showRes('BATTERY: Low battery can cause false triggers. Replace CR123/Coin battery.')">NO</button>
        </div>
    </div>

    <div id="flow-hub" class="hidden">
        <h3>Hub Offline</h3>
        <p><strong>Step 1:</strong> Is the Hub LED flashing blue or red?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('NO INTERNET: Hub lost connection to router. Reboot router and Hub.')">YES</button>
            <button class="btn-no" onclick="showRes('SERVER DOWN: Check manufacturer status page for cloud outage.')">NO</button>
        </div>
    </div>

    <div id="flow-garage" class="hidden">
        <h3>Smart Garage</h3>
        <p><strong>Step 1:</strong> Does the app say "Close Error" or "Obstruction"?</p>
        <div class="btn-group">
            <button class="btn-yes" onclick="showRes('SENSORS: Check the safety eye sensors at the bottom of the tracks for misalignment.')">YES</button>
            <button class="btn-no" onclick="showRes('WIFI SIGNAL: Garage signal is weak. Install WiFi extender in garage.')">NO</button>
        </div>
    </div>

    <div id="resBox" class="result">
        <strong>Recommendation:</strong>
        <p id="resText"></p>
        <button class="nav-btn" onclick="location.reload()">Back to Smart Home Menu</button>
        <button class="nav-btn" onclick="window.location.href='index.html'" style="background:#2d3748;">Main Menu</button>
    </div>
</div>

<script>
    function startFlow(fId) { 
        document.getElementById('homeMenu').classList.add('hidden'); 
        document.getElementById('flow-'+fId).classList.remove('hidden'); 
    }
    function showRes(t) { 
        document.querySelectorAll("[id^='flow-']").forEach(f => f.classList.add('hidden')); 
        document.getElementById('resBox').style.display = "block";
        document.getElementById('resText').innerText = t; 
    }
</script>
</body>
</html>
